{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserFollowingV2Paginator = exports.UserFollowersV2Paginator = exports.UserMutingUsersV2Paginator = exports.UserBlockingUsersV2Paginator = void 0;\n\nconst TwitterPaginator_1 = require(\"./TwitterPaginator\");\n/** A generic PreviousableTwitterPaginator able to consume UserV2 timelines. */\n\n\nclass UserTimelineV2Paginator extends TwitterPaginator_1.PreviousableTwitterPaginator {\n  refreshInstanceFromResult(response, isNextPage) {\n    var _a;\n\n    const result = response.data;\n    const resultData = (_a = result.data) !== null && _a !== void 0 ? _a : [];\n    this._rateLimit = response.rateLimit;\n\n    if (!this._realData.data) {\n      this._realData.data = [];\n    }\n\n    if (isNextPage) {\n      this._realData.meta.result_count += result.meta.result_count;\n      this._realData.meta.next_token = result.meta.next_token;\n\n      this._realData.data.push(...resultData);\n    } else {\n      this._realData.meta.result_count += result.meta.result_count;\n      this._realData.meta.previous_token = result.meta.previous_token;\n\n      this._realData.data.unshift(...resultData);\n    }\n\n    this.updateIncludes(result);\n  }\n\n  updateIncludes(data) {\n    if (!data.includes) {\n      return;\n    }\n\n    if (!this._realData.includes) {\n      this._realData.includes = {};\n    }\n\n    const includesRealData = this._realData.includes;\n\n    for (const [includeKey, includeArray] of Object.entries(data.includes)) {\n      if (!includesRealData[includeKey]) {\n        includesRealData[includeKey] = [];\n      }\n\n      includesRealData[includeKey] = [...includesRealData[includeKey], ...includeArray];\n    }\n  }\n\n  getNextQueryParams(maxResults) {\n    return { ...this.injectQueryParams(maxResults),\n      pagination_token: this._realData.meta.next_token\n    };\n  }\n\n  getPreviousQueryParams(maxResults) {\n    return { ...this.injectQueryParams(maxResults),\n      pagination_token: this._realData.meta.previous_token\n    };\n  }\n\n  getPageLengthFromRequest(result) {\n    var _a, _b;\n\n    return (_b = (_a = result.data.data) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0;\n  }\n\n  isFetchLastOver(result) {\n    var _a;\n\n    return !((_a = result.data.data) === null || _a === void 0 ? void 0 : _a.length) || !this.canFetchNextPage(result.data);\n  }\n\n  canFetchNextPage(result) {\n    return !!result.meta.next_token;\n  }\n\n  getItemArray() {\n    return this.users;\n  }\n  /**\n   * Users returned by paginator.\n   */\n\n\n  get users() {\n    var _a;\n\n    return (_a = this._realData.data) !== null && _a !== void 0 ? _a : [];\n  }\n\n  get meta() {\n    return this._realData.meta;\n  }\n\n  get includes() {\n    var _a;\n\n    return (_a = this._realData.includes) !== null && _a !== void 0 ? _a : {};\n  }\n\n}\n\nclass UserBlockingUsersV2Paginator extends UserTimelineV2Paginator {\n  constructor() {\n    super(...arguments);\n    this._endpoint = 'users/:id/blocking';\n  }\n\n}\n\nexports.UserBlockingUsersV2Paginator = UserBlockingUsersV2Paginator;\n\nclass UserMutingUsersV2Paginator extends UserTimelineV2Paginator {\n  constructor() {\n    super(...arguments);\n    this._endpoint = 'users/:id/muting';\n  }\n\n}\n\nexports.UserMutingUsersV2Paginator = UserMutingUsersV2Paginator;\n\nclass UserFollowersV2Paginator extends UserTimelineV2Paginator {\n  constructor() {\n    super(...arguments);\n    this._endpoint = 'users/:id/followers';\n  }\n\n}\n\nexports.UserFollowersV2Paginator = UserFollowersV2Paginator;\n\nclass UserFollowingV2Paginator extends UserTimelineV2Paginator {\n  constructor() {\n    super(...arguments);\n    this._endpoint = 'users/:id/following';\n  }\n\n}\n\nexports.UserFollowingV2Paginator = UserFollowingV2Paginator;","map":{"version":3,"sources":["/Users/tarungunampalli/Documents/twitter-oauth/node_modules/twitter-api-v2/dist/paginators/user.paginator.v2.js"],"names":["Object","defineProperty","exports","value","UserFollowingV2Paginator","UserFollowersV2Paginator","UserMutingUsersV2Paginator","UserBlockingUsersV2Paginator","TwitterPaginator_1","require","UserTimelineV2Paginator","PreviousableTwitterPaginator","refreshInstanceFromResult","response","isNextPage","_a","result","data","resultData","_rateLimit","rateLimit","_realData","meta","result_count","next_token","push","previous_token","unshift","updateIncludes","includes","includesRealData","includeKey","includeArray","entries","getNextQueryParams","maxResults","injectQueryParams","pagination_token","getPreviousQueryParams","getPageLengthFromRequest","_b","length","isFetchLastOver","canFetchNextPage","getItemArray","users","constructor","arguments","_endpoint"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UserFollowingV2Paginator = exports.UserFollowersV2Paginator = exports.UserMutingUsersV2Paginator = exports.UserBlockingUsersV2Paginator = void 0;\nconst TwitterPaginator_1 = require(\"./TwitterPaginator\");\n/** A generic PreviousableTwitterPaginator able to consume UserV2 timelines. */\nclass UserTimelineV2Paginator extends TwitterPaginator_1.PreviousableTwitterPaginator {\n    refreshInstanceFromResult(response, isNextPage) {\n        var _a;\n        const result = response.data;\n        const resultData = (_a = result.data) !== null && _a !== void 0 ? _a : [];\n        this._rateLimit = response.rateLimit;\n        if (!this._realData.data) {\n            this._realData.data = [];\n        }\n        if (isNextPage) {\n            this._realData.meta.result_count += result.meta.result_count;\n            this._realData.meta.next_token = result.meta.next_token;\n            this._realData.data.push(...resultData);\n        }\n        else {\n            this._realData.meta.result_count += result.meta.result_count;\n            this._realData.meta.previous_token = result.meta.previous_token;\n            this._realData.data.unshift(...resultData);\n        }\n        this.updateIncludes(result);\n    }\n    updateIncludes(data) {\n        if (!data.includes) {\n            return;\n        }\n        if (!this._realData.includes) {\n            this._realData.includes = {};\n        }\n        const includesRealData = this._realData.includes;\n        for (const [includeKey, includeArray] of Object.entries(data.includes)) {\n            if (!includesRealData[includeKey]) {\n                includesRealData[includeKey] = [];\n            }\n            includesRealData[includeKey] = [\n                ...includesRealData[includeKey],\n                ...includeArray,\n            ];\n        }\n    }\n    getNextQueryParams(maxResults) {\n        return {\n            ...this.injectQueryParams(maxResults),\n            pagination_token: this._realData.meta.next_token,\n        };\n    }\n    getPreviousQueryParams(maxResults) {\n        return {\n            ...this.injectQueryParams(maxResults),\n            pagination_token: this._realData.meta.previous_token,\n        };\n    }\n    getPageLengthFromRequest(result) {\n        var _a, _b;\n        return (_b = (_a = result.data.data) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0;\n    }\n    isFetchLastOver(result) {\n        var _a;\n        return !((_a = result.data.data) === null || _a === void 0 ? void 0 : _a.length) || !this.canFetchNextPage(result.data);\n    }\n    canFetchNextPage(result) {\n        return !!result.meta.next_token;\n    }\n    getItemArray() {\n        return this.users;\n    }\n    /**\n     * Users returned by paginator.\n     */\n    get users() {\n        var _a;\n        return (_a = this._realData.data) !== null && _a !== void 0 ? _a : [];\n    }\n    get meta() {\n        return this._realData.meta;\n    }\n    get includes() {\n        var _a;\n        return (_a = this._realData.includes) !== null && _a !== void 0 ? _a : {};\n    }\n}\nclass UserBlockingUsersV2Paginator extends UserTimelineV2Paginator {\n    constructor() {\n        super(...arguments);\n        this._endpoint = 'users/:id/blocking';\n    }\n}\nexports.UserBlockingUsersV2Paginator = UserBlockingUsersV2Paginator;\nclass UserMutingUsersV2Paginator extends UserTimelineV2Paginator {\n    constructor() {\n        super(...arguments);\n        this._endpoint = 'users/:id/muting';\n    }\n}\nexports.UserMutingUsersV2Paginator = UserMutingUsersV2Paginator;\nclass UserFollowersV2Paginator extends UserTimelineV2Paginator {\n    constructor() {\n        super(...arguments);\n        this._endpoint = 'users/:id/followers';\n    }\n}\nexports.UserFollowersV2Paginator = UserFollowersV2Paginator;\nclass UserFollowingV2Paginator extends UserTimelineV2Paginator {\n    constructor() {\n        super(...arguments);\n        this._endpoint = 'users/:id/following';\n    }\n}\nexports.UserFollowingV2Paginator = UserFollowingV2Paginator;\n"]},"metadata":{},"sourceType":"script"}