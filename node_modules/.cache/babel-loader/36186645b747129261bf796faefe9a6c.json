{"ast":null,"code":"var _jsxFileName = \"/Users/tarungunampalli/Documents/twitter-oauth/src/Success.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nasync function getTweets(userID, accessCode) {\n  const response = await fetch(`https://api.twitter.com/2/users/${userID}/tweets`, {\n    method: 'GET',\n    // *GET, POST, PUT, DELETE, etc.\n    mode: 'no-cors',\n    // no-cors, *cors, same-origin\n    // cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n    // credentials: 'same-origin', // include, *same-origin, omit\n    headers: {// Authorization: `Bearer ${accessCode}`,\n      // 'Content-Type': 'application/x-www-form-urlencoded',\n    } // redirect: 'follow', // manual, *follow, error\n    // referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n    // body: JSON.stringify(data), // body data type must match \"Content-Type\" header\n\n  });\n  console.log(response);\n  return response;\n}\n\nasync function getAccessToken(authorizationCode) {\n  const basicAuth = Buffer.from(`${process.env.REACT_APP_CLIENT_ID}:${process.env.REACT_APP_CLIENT_SECRET}`).toString('base64');\n  const body = new URLSearchParams({\n    code: authorizationCode,\n    grant_type: 'authorization_code',\n    client_id: process.env.REACT_APP_CLIENT_ID,\n    client_secret: process.env.REACT_APP_CLIENT_SECRET,\n    redirect_uri: 'http://localhost:3000/success',\n    code_verifier: 'challenge'\n  });\n  let response = await fetch('https://api.twitter.com/2/oauth2/token', {\n    method: 'POST',\n    mode: 'no-cors',\n    headers: {\n      Authorization: `Basic ${basicAuth}`,\n      'Content-Type': 'application/x-www-form-urlencoded'\n    },\n    body: body.toString()\n  });\n  response = response.json();\n  console.log(response);\n  return response;\n}\n\nconst Success = () => {\n  const params = new URLSearchParams(window.location.search);\n  const authorizationCode = params.get('code');\n  getAccessToken(authorizationCode);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"hi\", {\n      children: \"Success\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Authorization Code: \", authorizationCode]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => getTweets('14337705', authorizationCode),\n      children: \"Get Tweets\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => getAccessToken(authorizationCode),\n      children: \"Get Access Token\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 3\n  }, this);\n};\n\n_c = Success;\nexport default Success;\n\nvar _c;\n\n$RefreshReg$(_c, \"Success\");","map":{"version":3,"sources":["/Users/tarungunampalli/Documents/twitter-oauth/src/Success.js"],"names":["getTweets","userID","accessCode","response","fetch","method","mode","headers","console","log","getAccessToken","authorizationCode","basicAuth","Buffer","from","process","env","REACT_APP_CLIENT_ID","REACT_APP_CLIENT_SECRET","toString","body","URLSearchParams","code","grant_type","client_id","client_secret","redirect_uri","code_verifier","Authorization","json","Success","params","window","location","search","get"],"mappings":";;;AAAA,eAAeA,SAAf,CAAyBC,MAAzB,EAAiCC,UAAjC,EAA6C;AAC5C,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,mCAAkCH,MAAO,SAA3C,EAAqD;AAChFI,IAAAA,MAAM,EAAE,KADwE;AACjE;AACfC,IAAAA,IAAI,EAAE,SAF0E;AAE/D;AACjB;AACA;AACAC,IAAAA,OAAO,EAAE,CACR;AACA;AAFQ,KALuE,CAShF;AACA;AACA;;AAXgF,GAArD,CAA5B;AAaAC,EAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACA,SAAOA,QAAP;AACA;;AAED,eAAeO,cAAf,CAA8BC,iBAA9B,EAAiD;AAChD,QAAMC,SAAS,GACfC,MAAM,CAACC,IAAP,CAAa,GAAEC,OAAO,CAACC,GAAR,CAAYC,mBAAoB,IAAGF,OAAO,CAACC,GAAR,CAAYE,uBAAwB,EAAtF,EAAyFC,QAAzF,CAAkG,QAAlG,CADA;AAEA,QAAMC,IAAI,GAAG,IAAIC,eAAJ,CAAoB;AAChCC,IAAAA,IAAI,EAAEX,iBAD0B;AAEhCY,IAAAA,UAAU,EAAE,oBAFoB;AAGhCC,IAAAA,SAAS,EAAET,OAAO,CAACC,GAAR,CAAYC,mBAHS;AAIhCQ,IAAAA,aAAa,EAAEV,OAAO,CAACC,GAAR,CAAYE,uBAJK;AAKhCQ,IAAAA,YAAY,EAAE,+BALkB;AAMhCC,IAAAA,aAAa,EAAE;AANiB,GAApB,CAAb;AAQA,MAAIxB,QAAQ,GAAG,MAAMC,KAAK,CAAC,wCAAD,EAA2C;AACpEC,IAAAA,MAAM,EAAE,MAD4D;AAEpEC,IAAAA,IAAI,EAAE,SAF8D;AAGpEC,IAAAA,OAAO,EAAE;AACRqB,MAAAA,aAAa,EAAG,SAAQhB,SAAU,EAD1B;AAER,sBAAgB;AAFR,KAH2D;AAOpEQ,IAAAA,IAAI,EAAEA,IAAI,CAACD,QAAL;AAP8D,GAA3C,CAA1B;AASAhB,EAAAA,QAAQ,GAAGA,QAAQ,CAAC0B,IAAT,EAAX;AACArB,EAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACA,SAAOA,QAAP;AACA;;AAED,MAAM2B,OAAO,GAAG,MAAM;AACrB,QAAMC,MAAM,GAAG,IAAIV,eAAJ,CAAoBW,MAAM,CAACC,QAAP,CAAgBC,MAApC,CAAf;AACA,QAAMvB,iBAAiB,GAAGoB,MAAM,CAACI,GAAP,CAAW,MAAX,CAA1B;AACAzB,EAAAA,cAAc,CAACC,iBAAD,CAAd;AACA,sBACC;AAAA,4BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAEC;AAAA,yCAA0BA,iBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA,YAFD,eAGC;AAAQ,MAAA,OAAO,EAAE,MAAMX,SAAS,CAAC,UAAD,EAAaW,iBAAb,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHD,eAIC;AAAQ,MAAA,OAAO,EAAE,MAAMD,cAAc,CAACC,iBAAD,CAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAQA,CAZD;;KAAMmB,O;AAcN,eAAeA,OAAf","sourcesContent":["async function getTweets(userID, accessCode) {\n\tconst response = await fetch(`https://api.twitter.com/2/users/${userID}/tweets`, {\n\t\tmethod: 'GET', // *GET, POST, PUT, DELETE, etc.\n\t\tmode: 'no-cors', // no-cors, *cors, same-origin\n\t\t// cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n\t\t// credentials: 'same-origin', // include, *same-origin, omit\n\t\theaders: {\n\t\t\t// Authorization: `Bearer ${accessCode}`,\n\t\t\t// 'Content-Type': 'application/x-www-form-urlencoded',\n\t\t},\n\t\t// redirect: 'follow', // manual, *follow, error\n\t\t// referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n\t\t// body: JSON.stringify(data), // body data type must match \"Content-Type\" header\n\t});\n\tconsole.log(response);\n\treturn response;\n}\n\nasync function getAccessToken(authorizationCode) {\n\tconst basicAuth = \n\tBuffer.from(`${process.env.REACT_APP_CLIENT_ID}:${process.env.REACT_APP_CLIENT_SECRET}`).toString('base64')\n\tconst body = new URLSearchParams({\n\t\tcode: authorizationCode,\n\t\tgrant_type: 'authorization_code',\n\t\tclient_id: process.env.REACT_APP_CLIENT_ID,\n\t\tclient_secret: process.env.REACT_APP_CLIENT_SECRET,\n\t\tredirect_uri: 'http://localhost:3000/success',\n\t\tcode_verifier: 'challenge',\n\t});\n\tlet response = await fetch('https://api.twitter.com/2/oauth2/token', {\n\t\tmethod: 'POST',\n\t\tmode: 'no-cors',\n\t\theaders: {\n\t\t\tAuthorization: `Basic ${basicAuth}`,\n\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t},\n\t\tbody: body.toString(),\n\t});\n\tresponse = response.json();\n\tconsole.log(response);\n\treturn response;\n}\n\nconst Success = () => {\n\tconst params = new URLSearchParams(window.location.search);\n\tconst authorizationCode = params.get('code');\n\tgetAccessToken(authorizationCode);\n\treturn (\n\t\t<div>\n\t\t\t<hi>Success</hi>\n\t\t\t<div>Authorization Code: {authorizationCode}</div>\n\t\t\t<button onClick={() => getTweets('14337705', authorizationCode)}>Get Tweets</button>\n\t\t\t<button onClick={() => getAccessToken(authorizationCode)}>Get Access Token</button>\n\t\t</div>\n\t);\n};\n\nexport default Success;\n"]},"metadata":{},"sourceType":"module"}