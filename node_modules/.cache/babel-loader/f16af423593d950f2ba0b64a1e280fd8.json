{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FriendshipsOutgoingV1Paginator = exports.FriendshipsIncomingV1Paginator = exports.UserSearchV1Paginator = void 0;\n\nconst TwitterPaginator_1 = __importDefault(require(\"./TwitterPaginator\"));\n\nconst paginator_v1_1 = require(\"./paginator.v1\");\n/** A generic TwitterPaginator able to consume TweetV1 timelines. */\n\n\nclass UserSearchV1Paginator extends TwitterPaginator_1.default {\n  constructor() {\n    super(...arguments);\n    this._endpoint = 'users/search.json';\n  }\n\n  refreshInstanceFromResult(response, isNextPage) {\n    const result = response.data;\n    this._rateLimit = response.rateLimit;\n\n    if (isNextPage) {\n      this._realData.push(...result);\n    }\n  }\n\n  getNextQueryParams(maxResults) {\n    var _a;\n\n    const previousPage = Number((_a = this._queryParams.page) !== null && _a !== void 0 ? _a : '1');\n    return { ...this._queryParams,\n      page: previousPage + 1,\n      ...(maxResults ? {\n        count: maxResults\n      } : {})\n    };\n  }\n\n  getPageLengthFromRequest(result) {\n    return result.data.length;\n  }\n\n  isFetchLastOver(result) {\n    return !result.data.length;\n  }\n\n  canFetchNextPage(result) {\n    return result.length > 0;\n  }\n\n  getItemArray() {\n    return this.users;\n  }\n  /**\n   * Users returned by paginator.\n   */\n\n\n  get users() {\n    return this._realData;\n  }\n\n}\n\nexports.UserSearchV1Paginator = UserSearchV1Paginator;\n\nclass FriendshipsIncomingV1Paginator extends paginator_v1_1.CursoredV1Paginator {\n  constructor() {\n    super(...arguments);\n    this._endpoint = 'friendships/incoming.json';\n    this._maxResultsWhenFetchLast = 5000;\n  }\n\n  refreshInstanceFromResult(response, isNextPage) {\n    const result = response.data;\n    this._rateLimit = response.rateLimit;\n\n    if (isNextPage) {\n      this._realData.ids.push(...result.ids);\n\n      this._realData.next_cursor = result.next_cursor;\n    }\n  }\n\n  getPageLengthFromRequest(result) {\n    return result.data.ids.length;\n  }\n\n  getItemArray() {\n    return this.ids;\n  }\n  /**\n   * Users IDs returned by paginator.\n   */\n\n\n  get ids() {\n    return this._realData.ids;\n  }\n\n}\n\nexports.FriendshipsIncomingV1Paginator = FriendshipsIncomingV1Paginator;\n\nclass FriendshipsOutgoingV1Paginator extends FriendshipsIncomingV1Paginator {\n  constructor() {\n    super(...arguments);\n    this._endpoint = 'friendships/outgoing.json';\n  }\n\n}\n\nexports.FriendshipsOutgoingV1Paginator = FriendshipsOutgoingV1Paginator;","map":{"version":3,"sources":["/Users/tarungunampalli/Documents/twitter-oauth/node_modules/twitter-api-v2/dist/paginators/user.paginator.v1.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","FriendshipsOutgoingV1Paginator","FriendshipsIncomingV1Paginator","UserSearchV1Paginator","TwitterPaginator_1","require","paginator_v1_1","default","constructor","arguments","_endpoint","refreshInstanceFromResult","response","isNextPage","result","data","_rateLimit","rateLimit","_realData","push","getNextQueryParams","maxResults","_a","previousPage","Number","_queryParams","page","count","getPageLengthFromRequest","length","isFetchLastOver","canFetchNextPage","getItemArray","users","CursoredV1Paginator","_maxResultsWhenFetchLast","ids","next_cursor"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FriendshipsOutgoingV1Paginator = exports.FriendshipsIncomingV1Paginator = exports.UserSearchV1Paginator = void 0;\nconst TwitterPaginator_1 = __importDefault(require(\"./TwitterPaginator\"));\nconst paginator_v1_1 = require(\"./paginator.v1\");\n/** A generic TwitterPaginator able to consume TweetV1 timelines. */\nclass UserSearchV1Paginator extends TwitterPaginator_1.default {\n    constructor() {\n        super(...arguments);\n        this._endpoint = 'users/search.json';\n    }\n    refreshInstanceFromResult(response, isNextPage) {\n        const result = response.data;\n        this._rateLimit = response.rateLimit;\n        if (isNextPage) {\n            this._realData.push(...result);\n        }\n    }\n    getNextQueryParams(maxResults) {\n        var _a;\n        const previousPage = Number((_a = this._queryParams.page) !== null && _a !== void 0 ? _a : '1');\n        return {\n            ...this._queryParams,\n            page: previousPage + 1,\n            ...maxResults ? { count: maxResults } : {},\n        };\n    }\n    getPageLengthFromRequest(result) {\n        return result.data.length;\n    }\n    isFetchLastOver(result) {\n        return !result.data.length;\n    }\n    canFetchNextPage(result) {\n        return result.length > 0;\n    }\n    getItemArray() {\n        return this.users;\n    }\n    /**\n     * Users returned by paginator.\n     */\n    get users() {\n        return this._realData;\n    }\n}\nexports.UserSearchV1Paginator = UserSearchV1Paginator;\nclass FriendshipsIncomingV1Paginator extends paginator_v1_1.CursoredV1Paginator {\n    constructor() {\n        super(...arguments);\n        this._endpoint = 'friendships/incoming.json';\n        this._maxResultsWhenFetchLast = 5000;\n    }\n    refreshInstanceFromResult(response, isNextPage) {\n        const result = response.data;\n        this._rateLimit = response.rateLimit;\n        if (isNextPage) {\n            this._realData.ids.push(...result.ids);\n            this._realData.next_cursor = result.next_cursor;\n        }\n    }\n    getPageLengthFromRequest(result) {\n        return result.data.ids.length;\n    }\n    getItemArray() {\n        return this.ids;\n    }\n    /**\n     * Users IDs returned by paginator.\n     */\n    get ids() {\n        return this._realData.ids;\n    }\n}\nexports.FriendshipsIncomingV1Paginator = FriendshipsIncomingV1Paginator;\nclass FriendshipsOutgoingV1Paginator extends FriendshipsIncomingV1Paginator {\n    constructor() {\n        super(...arguments);\n        this._endpoint = 'friendships/outgoing.json';\n    }\n}\nexports.FriendshipsOutgoingV1Paginator = FriendshipsOutgoingV1Paginator;\n"]},"metadata":{},"sourceType":"script"}